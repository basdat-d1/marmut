{% extends 'base.html' %}
{% load static %}

{% block meta %}
<title>Downloaded Songs</title>
{% endblock meta %}

{% block content %}
<!-- Navbar -->
{% include "navbar/pengguna/navbar_premium.html" %}

<!-- Content -->
<hr class="border-b border-gray-400 mb-4 mt-20"> <!-- Garis di akhir navbar -->

<div class="container mx-auto px-4 mt-16"> <!-- Tambahkan margin top yang lebih besar di sini -->
    <div class="bg-gradient-to-b from-purple-600 to-purple-400 rounded-lg shadow-xl overflow-hidden">
        <h1 class="text-3xl font-semibold my-4 text-white text-center">Downloaded Songs</h1>

        <!-- Daftar Lagu -->
        <div class="bg-white bg-opacity-90 rounded-lg shadow-lg p-6">
            <table class="min-w-full divide-y divide-gray-300">
                <thead class="bg-gray-200">
                    <tr>
                        <th class="px-6 py-3 text-left text-xs font-semibold uppercase text-gray-600">Judul Lagu</th>
                        <th class="px-6 py-3 text-left text-xs font-semibold uppercase text-gray-600">Oleh</th>
                        <th class="px-6 py-3 text-left text-xs font-semibold uppercase text-gray-600">Tanggal Download</th>
                        <th class="px-6 py-3 text-left text-xs font-semibold uppercase text-gray-600">Actions</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-gray-300">
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap">Song1</td>
                        <td class="px-6 py-4 whitespace-nowrap">Artist1</td>
                        <td class="px-6 py-4 whitespace-nowrap">20/02/2024</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <button onclick="lihat('Song1')" style="background-color: #3b82f6;" class="hover:bg-blue-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">Lihat</button>
                            <button onclick="hapus('Song1')" style="background-color: #ef4444;" class="hover:bg-red-600 text-white font-bold py-2 px-4 ml-2 rounded focus:outline-none focus:shadow-outline">Hapus</button>
                        </td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap">Song2</td>
                        <td class="px-6 py-4 whitespace-nowrap">Artist2</td>
                        <td class="px-6 py-4 whitespace-nowrap">21/03/2024</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <button onclick="lihat('Song2')" style="background-color: #3b82f6;" class="hover:bg-blue-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">Lihat</button>
                            <button onclick="hapus('Song2')" style="background-color: #ef4444;" class="hover:bg-red-600 text-white font-bold py-2 px-4 ml-2 rounded focus:outline-none focus:shadow-outline">Hapus</button>
                        </td>
                    </tr>
                    <!-- Add more rows for additional dummy data -->
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- Button Kembali -->
<div class="text-center mt-4">
    <button onclick="window.history.back();" style="background-color: #3b82f6;" class="hover:bg-blue-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">Kembali</button>
</div>

<!-- Form untuk konfirmasi penghapusan -->
<div id="hapusConfirmation" class="fixed inset-0 bg-gray-800 bg-opacity-50 flex justify-center items-center hidden">
    <div class="bg-white p-8 rounded-lg">
        <h2 class="text-xl font-semibold mb-4">Berhasil Menghapus</h2>
        <p id="hapusConfirmationText"></p>
        <div class="flex justify-end mt-6">
            <button onclick="kembali()" style="background-color: #3b82f6;" class="hover:bg-blue-600 text-white font-bold py-2 px-4 ml-2 rounded focus:outline-none focus:shadow-outline">Kembali</button>
        </div>
    </div>
</div>

<script>
    var judulLaguToDelete;

    // Fungsi untuk menghapus lagu dari daftar unduhan
    function hapus(judul) {
        judulLaguToDelete = judul;
        document.getElementById("hapusConfirmationText").textContent = "Berhasil menghapus Lagu dengan judul '" + judul + "' dari daftar unduhan!";
        document.getElementById("hapusConfirmation").classList.remove("hidden");
    }

    // Fungsi untuk kembali ke halaman sebelumnya setelah penghapusan
    function kembali() {
        window.location.href = document.referrer;
    }
</script>

{% endblock content %}
