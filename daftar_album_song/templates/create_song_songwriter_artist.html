{% extends 'base.html' %}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0-beta.1/css/select2.min.css">
{% load static %}
<head>
</head>
{% block meta %}
<title>Create Song</title>
{% endblock meta %}

{% block content %}
{% include "navbar/pengguna/navbar_artist_songwriter.html" %}
<div class="bg-gradient-to-bl from-indigo-500/20 pt-32 h-screen flex flex-col justify-start items-center">
    <div class="flex flex-col items-center justify-center">
        <div class="text-center text-white">
            <div class="flex justify-center items-center mb-6">
                <i class="fa fa-music text-white text-3xl neon-effect mr-2"></i>
                <h1 class="text-4xl font-bold">Create Songs</h1>
            </div>
        </div>
        <div class="text-2xl sm:text-3xl font-semibold text-white flex justify-center items-center mb-8">
            <p class="text-2xl sm:text-3xl font-semibold text-white flex justify-center items-center">
                <a href="/daftar-album-song/list-album/1/songs">From Album 1</a>
            </p>
        </div>
    </div>
    <div class="flex justify-center p-5 flex mx-auto items-center sm:items-stretch" style="margin-bottom: 2rem;">
        <div class=" bg-gray/20 text-white shadow-inner border-white rounded-3xl py-12 px-16 w-full flex gap-4">
            <form action="/submit-song" method="POST">
                <!-- Album Title -->
                <div class="mt-3 text-white">
                    <label for="album-title">Album:</label>
                    <input class="mt-3 text-black" type="text" id="album-title" name="album-title" value = "Album 1" required>
                </div>

                <!-- Song Title -->
                <div class="mt-3 text-white">
                    <label for="song-title">Judul:</label>
                    <input class="mt-3 text-black" type="text" id="song-title" name="song-title" required>
                </div>

                <!-- Artist -->
                <div class="mt-3 text-white">
                <label for="song-title">Artist:</label>
                <input class="mt-3 text-black" type="text" id="song-title" name="song-title" required>
                </div>

                <!-- <div class="flex flex-col">
                    <label for="songwriter" class="text-lg font-bold text-gray-900 dark:text-gray-200 mb-2">Songwriter</label>
                    <select id="songwriter" name="songwriter[]" multiple class="w-full px-3 dark:text-gray-200 dark:bg-gray-900 py-2 rounded-md border border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-1 focus:ring-blue-500" required>
                        <option value="Maya Fitri">Maya Fitri</option>
                        <option value="Nando Pratama">Nando Pratama</option>
                    </select>
                </div>
                <div class="flex flex-col">
                    <label for="genre" class="text-lg font-bold text-gray-900 dark:text-gray-200 mb-2">Genre</label>
                    <select id="genre" name="genre" multiple class="w-full px-3 dark:text-gray-200 dark:bg-gray-900 py-2 rounded-md border border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-1 focus:ring-blue-500" required>
                      <option value="Pop">Pop</option>
                      <option value="Rock">Rock</option>
                    </select>
                </div> -->


                <!-- Songwriter Checkboxes -->
                <div class="mt-3 text-white">
                    <label>Songwriter:</label><br>
                    <input type="checkbox" id="check-olivia" name="genre[]" value="Olivia">
                    <label for="check-olivia">Olivia</label>
                    <input type="checkbox" id="check-taylor" name="genre[]" value="Taylor">
                    <label for="check-taylor">Taylor</label>
                    <input type="checkbox" id="check-ed" name="genre[]" value="Ed">
                    <label for="check-ed">Ed</label><br>
                </div>

                <!-- Genres Checkboxes -->
                <div class="mt-3 text-white">
                <label>Genres:</label><br>
                <input type="checkbox" id="genre-rock" name="genre[]" value="Rock">
                <label for="genre-rock">Rock</label>
                <input type="checkbox" id="genre-pop" name="genre[]" value="Pop">
                <label for="genre-pop">Pop</label>
                <input type="checkbox" id="genre-hiphop" name="genre[]" value="Hip Hop">
                <label for="genre-hiphop">Hip Hop</label>
                <input type="checkbox" id="genre-electronic" name="genre[]" value="Electronic">
                <label for="genre-electronic">Electronic</label><br>
                </div>

                <!-- Durasi -->
                <div class="mt-3 text-white">
                    <label for="song-duration">Durasi:</label>
                    <input class="mt-3 text-black" type="text" id="song-duration" name="song-duration" required>
                </div>

                <!-- Submit Button -->
                <div class="flex justify-center p-3 flex mx-auto sm:flex-row flex-row items-center sm:items-stretch">
                    <button class="mt-3 px-4 py-2 border-2 border-blue text-blue rounded-xl py-2 px-4 hover:bg-blue hover:text-black duration-200">
                        <input type="submit" value="Submit">
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0-beta.1/js/select2.min.js"></script>
<script>
    $(document).ready(function() {
        // Initialize Select2 for songwriter and genre
        $('#songwriter, #genre').select2();

        // Handle change event for songwriter
        $('#songwriter').on('change', function() {
            let selectedValues = $(this).val();
            updateChips('#songwriter', selectedValues);
        });

        // Handle change event for genre
        $('#genre').on('change', function() {
            let selectedValues = $(this).val();
            updateChips('#genre', selectedValues);
        });

        // Function to update chips for selected values
        function updateChips(selector, values) {
            let chipContainer = $(selector).closest('.flex').find('.chip-container');
            chipContainer.empty();
            if (values) {
                values.forEach(function(value) {
                chipContainer.append(`<div class="chip" id=${value}>${value}</div>`);
                });
            }
        }

    });


</script>

<style>
    @keyframes pulse-animation {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
    }
    .animate-pulse {
        animation: pulse-animation 2s infinite ease-in-out;
    }
    .neon-text {
        text-shadow: 0 0 2px #fff, 0 0 4px #fff, 0 0 6px #0fa, 0 0 8px #0fa, 0 0 10px #0fa;
    }
    .plus-button {
        bottom: 2rem; /* Adjust as needed */
        transform: translateX(-50%);
        padding: 0.5rem;
        display: flex;
        justify-content: center;
        align-items: center;
        text-decoration: none;
        transition: background-color 0.3s ease;
    }
    .chip {
      display: inline-block;
      padding: 0.25rem 0.5rem;
      margin: 0.25rem;
      background-color: #4a5568;
      color: #ffffff;
      border-radius: 0.25rem;
      font-size: 0.875rem;
    }

        /* Add styles for chip container */
    .chip-container {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
    }

</style>
{% endblock %}
