{% extends 'base.html' %}
{% load static %}

{% block meta %}
<title>Riwayat Transaksi Paket</title>
{% endblock meta %}

{% block content %}
<!-- Navbar -->
{% include "components/navbar/navbar_pengguna.html" %}
<hr class="border-b border-gray-400 mb-4 mt-20"> <!-- Garis di akhir navbar -->

<div class="container mx-auto px-4 mt-16"> <!-- Tambahkan margin top yang lebih besar di sini -->
    <h1 class="text-2xl font-bold my-4 text-white text-center">Riwayat Transaksi Paket</h1>
    <table class="w-full border-collapse border border-gray-400">
        <thead>
            <tr>
                <th class="border border-gray-400 px-4 py-2 text-white text-center">Jenis</th>
                <th class="border border-gray-400 px-4 py-2 text-white text-center">Tanggal Dimulai</th>
                <th class="border border-gray-400 px-4 py-2 text-white text-center">Tanggal Berakhir</th>
                <th class="border border-gray-400 px-4 py-2 text-white text-center">Metode Pembayaran</th>
                <th class="border border-gray-400 px-4 py-2 text-white text-center">Nominal</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="border border-gray-400 px-4 py-2 text-white text-center font-bold" id="jenis"></td>
                <td class="border border-gray-400 px-4 py-2 text-white text-center" id="tanggal_dimulai"></td>
                <td class="border border-gray-400 px-4 py-2 text-white text-center" id="tanggal_berakhir"></td>
                <td class="border border-gray-400 px-4 py-2 text-white text-center" id="metode_pembayaran"></td>
                <td class="border border-gray-400 px-4 py-2 text-white text-center" id="nominal"></td>
            </tr>
        </tbody>
    </table>
    <a href="#" class="bg-blue-500 text-white px-4 py-2 rounded mt-4 block mx-auto w-24 text-center">Kembali</a>
</div>

<script>
    // Mengambil nilai parameter dari URL
    const urlParams = new URLSearchParams(window.location.search);
    const jenis = urlParams.get('jenis');
    const harga = urlParams.get('harga');
    const metode_pembayaran = urlParams.get('metode_pembayaran');

    // Menampilkan nilai parameter pada halaman
    document.getElementById('jenis').innerText = jenis;
    document.getElementById('tanggal_dimulai').innerText = new Date().toLocaleString('en-US', { month: 'long', day: 'numeric', year: 'numeric', hour: 'numeric', minute: 'numeric', hour12: true });
    document.getElementById('tanggal_berakhir').innerText = new Date(new Date().getTime() + 30 * 24 * 60 * 60 * 1000).toLocaleString('en-US', { month: 'long', day: 'numeric', year: 'numeric', hour: 'numeric', minute: 'numeric', hour12: true });
    document.getElementById('metode_pembayaran').innerText = metode_pembayaran;
    document.getElementById('nominal').innerText = `Rp${harga}`;
</script>

{% endblock content %}
